apiVersion: "cis.f5.com/v1"
kind: VirtualServer 
metadata:
  name: cis-vs-nginx-live-dashboard
  namespace: nginx-ingress
  labels: 
    f5cr: "true"
spec:
  host: dashboard.nginx.plus
  virtualServerName: cis-vs-nginx-live-dashboard
  virtualServerAddress: "10.1.1.11" #--> update as needed
  virtualServerHTTPPort: 80 #--> update as needed
  persistenceProfile: "/Common/source_addr"
  pools:
  - path: /
    service: nginx-plus-live-dashboard
    servicePort: 8080 #--> adjust to match targetPort of the service
    loadBalancingMethod: fastest-node
    monitor:
      type: tcp
      send: "GET /dashboard.html" # Or whatever the dashboard path is
      recv: "200 OK"
      interval: 5
      timeout: 16